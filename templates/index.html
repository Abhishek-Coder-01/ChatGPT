<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" href="{{ url_for('static', filename='favicon/chatgpt.png') }}" type="image/png">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <!-- Add Prism.js for syntax highlighting  -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-json.min.js"></script>

</head>

<body class="h-screen bg-white text-gray-800 flex">

    <!-- Toast -->
    <div id="toast-container"
        class="fixed top-6 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 z-50 text-md">
    </div>
    <div id="newChatToastContainer" class="fixed top-6 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 z-50">
    </div>


    <!-- Device indicator -->
    <div id="device-indicator" class="device-indicator">
        <i class="fas fa-display"></i>
        <span id="device-text">Desktop View</span>
    </div>

    <!-- Mobile overlay for sidebar -->
    <div class="mobile-overlay" id="mobile-overlay"></div>

    <!-- Mobile sidebar -->
    <aside class="w-64 border-r bg-gray-100 flex flex-col mobile-sidebar lg:relative lg:translate-x-0" id="sidebar">
        <div class="p-4 flex items-center justify-between">

            <h1 class="flex items-center gap-1">
                <span>
                    <img width="25" height="25"
                        src="https://www.gstatic.com/lamda/images/gemini_sparkle_aurora_33f86dc0c0257da337c63.svg"
                        alt="">
                </span>

                <span>
                    <h3
                        class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-teal-400 via-blue-500 to-purple-500">
                        ChatGPT
                    </h3>

                </span>
            </h1>

            <button class="p-2 rounded-lg hover:bg-gray-100 lg:hidden" id="close-sidebar">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <button
            class="clickable mx-4 my-2 bg-white hover:shadow-md transition-shadow duration-300 font-medium py-2.5 px-4 rounded-full justify-center flex items-center gap-2"
            id="new-chat-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path
                    d="M8 0.599609C3.91309 0.599609 0.599609 3.91309 0.599609 8C0.599609 9.13376 0.855461 10.2098 1.3125 11.1719L1.5918 11.7588L2.76562 11.2012L2.48633 10.6143C2.11034 9.82278 1.90039 8.93675 1.90039 8C1.90039 4.63106 4.63106 1.90039 8 1.90039C11.3689 1.90039 14.0996 4.63106 14.0996 8C14.0996 11.3689 11.3689 14.0996 8 14.0996C7.31041 14.0996 6.80528 14.0514 6.35742 13.9277C5.91623 13.8059 5.49768 13.6021 4.99707 13.2529C4.26492 12.7422 3.21611 12.5616 2.35156 13.1074L2.33789 13.1162L2.32422 13.126L1.58789 13.6436L2.01953 14.9297L3.0459 14.207C3.36351 14.0065 3.83838 14.0294 4.25293 14.3184C4.84547 14.7317 5.39743 15.011 6.01172 15.1807C6.61947 15.3485 7.25549 15.4004 8 15.4004C12.0869 15.4004 15.4004 12.0869 15.4004 8C15.4004 3.91309 12.0869 0.599609 8 0.599609ZM7.34473 4.93945V7.34961H4.93945V8.65039H7.34473V11.0605H8.64551V8.65039H11.0605V7.34961H8.64551V4.93945H7.34473Z"
                    fill="currentColor"></path>
            </svg>
            <span class=" font-bold text-[14px]"> New chat </span>
        </button>

        <div class="px-4 py-2 rounded-full">
            <div class="search-container">
                <input type="text" id="history-search" class="search-input border-0 focus:ring-0 focus:border-0"
                    placeholder="Search history..">
                <div class="search-icon">
                    <i class="fas fa-search"></i>
                </div>
                <div id="search-results" class="search-results hidden"></div>
            </div>
        </div>


        <div class="flex-1 overflow-y-auto" id="chat-history">
            <p class="px-4 py-2 text-xs text-gray-500 font-medium">Today</p>
            <ul id="today-chats">
                <!-- Will be populated dynamically -->
            </ul>

            <p class="px-4 py-2 text-xs text-gray-500 font-medium mt-4">Yesterday</p>
            <ul id="previous-chats">
                <!-- Will be populated dynamically -->
            </ul>
        </div>
    </aside>

    <!-- Main content -->
    <main class="flex-1 flex flex-col bg-gray-50">
        <!-- Header -->
        <header class="p-4 border-b border-gray-200 bg-white flex items-center justify-between">
            <div class="flex items-center gap-3">
                <button
                    class=" px-3 py-2 rounded-lg border border-gray-200 bg-white rounded-lg hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-colors text-gray-500 lg:hidden"
                    id="menu-btn" aria-label="Toggle navigation menu" aria-expanded="false">
                    <i class="fas fa-bars" aria-hidden="true"></i>
                </button>
                <h1 class="text-lg font-semibold text-gray-800 truncate max-w-xs md:max-w-md" id="current-chat-title">
                    New Chat
                </h1>
            </div>

            <div class="flex items-center gap-2">
                <button id="clear-chat-btn" aria-label="Clear chat history" class="relative px-3 py-2 rounded-lg border border-gray-200 bg-white text-gray-500 
         hover:bg-gray-100   
           focus:ring-offset-1 
         transition-all duration-200 ease-in-out transform hover:scale-105 shadow-sm group">
                    <i class="fas fa-trash" aria-hidden="true"></i>

                    <!-- Tooltip -->
                    <span class="absolute -bottom-8 left-1/2 -translate-x-1/2 
               bg-black text-white text-xs px-2 py-1 rounded 
               opacity-0 group-hover:opacity-100 
               transition-opacity duration-200 ease-in-out pointer-events-none">
                        Delete
                    </span>
                </button>
            </div>

        </header>

        <!-- Chat Container -->

        <div class="chat-container p-4 md:p-6 flex-1 overflow-y-auto bg-gray-50" id="chat-messages">


            <!-- Welcome message with search in middle -->
            <div class="flex flex-col items-center justify-center h-full text-center p-6" id="welcome-message">

                <!-- Icon circle -->
                <div
                    class="w-16 h-16 md:w-20 md:h-20 rounded-full bg-blue-100 flex items-center justify-center shadow-md mb-4 md:mb-6">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        data-lucide="sparkles" class="lucide lucide-sparkles h-8 w-8 md:h-12 md:w-12 text-blue-600">
                        <path
                            d="M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z">
                        </path>
                        <path d="M20 2v4"></path>
                        <path d="M22 4h-4"></path>
                        <circle cx="4" cy="20" r="2"></circle>
                    </svg>
                </div>

                <!-- Heading -->
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-3">
                    How can I help you today?
                </h2>

                <!-- Subtext -->
                <p class="text-gray-600 max-w-lg mb-6 leading-relaxed text-sm md:text-base">
                    Ask me anything about <span class="font-medium text-blue-600">coding</span>,
                    <span class="font-medium text-blue-600">design</span>, or just general knowledge.
                    I'm here to assist you!
                </p>
            </div>

            <!-- Chat messages will be added here dynamically -->
        </div>


        <!-- Input Box -->
        <div class="pt-4 pb-[2px] pr-4 pl-4  border-t bg-white input-container" id="input-container">
            <div class="max-w-3xl mx-auto">
                <div
                    class="relative flex items-center bg-white rounded-2xl shadow-md border border-gray-200 px-4 py-3 pt-[0.5rem] pb-[3.5rem] transition-all duration-200">

                    <!-- Textarea -->
                    <textarea id="message-input" type="text" placeholder="Ask anything"
                        class="flex-1 outline-none bg-transparent text-gray-800 placeholder-gray-500 message-input max-h-32 py-1 pr-28 resize-none"
                        rows="1"></textarea>

                    <!-- DeepThink + Search (inside bottom-left) -->
                    <div class="absolute bottom-2 left-4 flex space-x-2 input-actions">
                        <button class="px-3 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded-full 
                    hover:bg-gray-100 hover:shadow-md 
                    font-medium flex items-center gap-2
                    transition-all duration-300 ease-in-out">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M7.06431 5.93348C7.68763 5.93348 8.19307 6.4391 8.19322 7.06239C8.19322 7.68579 7.68772 8.19129 7.06431 8.19129C6.44099 8.19119 5.9354 7.68573 5.9354 7.06239C5.93555 6.43917 6.44108 5.93359 7.06431 5.93348Z"
                                    fill="currentColor"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M8.6815 0.963754C10.1169 0.44708 11.6266 0.37489 12.5633 1.31141C13.5 2.24812 13.4277 3.75782 12.911 5.19325C12.7126 5.74437 12.4386 6.31802 12.0965 6.89735C12.4969 7.54645 12.8141 8.19024 13.036 8.80653C13.5527 10.242 13.6251 11.7516 12.6883 12.6884C11.7516 13.6251 10.242 13.5527 8.8065 13.036C8.19022 12.8141 7.54641 12.4969 6.89732 12.0966C6.31797 12.4386 5.74435 12.7126 5.19322 12.911C3.75777 13.4277 2.2481 13.5001 1.31138 12.5634C0.374859 11.6266 0.447049 10.1169 0.963724 8.68153C1.17185 8.10345 1.46321 7.50069 1.82896 6.89247C1.52182 6.35717 1.27235 5.82832 1.08872 5.31825C0.572068 3.88284 0.499714 2.37312 1.43638 1.43641C2.37308 0.499716 3.8828 0.572105 5.31822 1.08875C5.82828 1.27238 6.35715 1.52186 6.89243 1.82899C7.50066 1.46324 8.10341 1.17187 8.6815 0.963754ZM11.3573 8.01161C10.9083 8.62259 10.3901 9.22879 9.80943 9.80946C9.22877 10.3901 8.62255 10.9084 8.01158 11.3573C8.4257 11.5841 8.8287 11.7688 9.21275 11.9071C10.5456 12.3869 11.4246 12.2548 11.8397 11.8397C12.2548 11.4247 12.3869 10.5456 11.9071 9.21278C11.7688 8.82872 11.5841 8.42574 11.3573 8.01161ZM2.56529 8.02918C2.37344 8.39328 2.21495 8.74802 2.09263 9.08778C1.61291 10.4204 1.74512 11.2996 2.16001 11.7147C2.57505 12.1298 3.45415 12.2619 4.78697 11.7821C5.11057 11.6656 5.44786 11.5164 5.7938 11.3368C5.249 10.9223 4.70922 10.4534 4.19029 9.93446C3.57578 9.31993 3.03169 8.67639 2.56529 8.02918ZM6.90708 3.24696C6.24065 3.70485 5.5646 4.26327 4.91392 4.91395C4.26325 5.56462 3.70482 6.24069 3.24693 6.90711C3.72674 7.63331 4.32777 8.37465 5.03892 9.08582C5.64943 9.69633 6.28183 10.2265 6.90806 10.6679C7.59368 10.2026 8.2908 9.63082 8.96079 8.96082C9.6308 8.29082 10.2025 7.59372 10.6678 6.90809C10.2265 6.28186 9.69631 5.64946 9.08579 5.03895C8.37462 4.32779 7.63328 3.72678 6.90708 3.24696ZM11.7147 2.16004C11.2996 1.74515 10.4204 1.61294 9.08775 2.09266C8.74835 2.21485 8.39382 2.37277 8.03013 2.56434C8.67728 3.03071 9.31995 3.57586 9.93443 4.19032C10.4534 4.70926 10.9223 5.24902 11.3368 5.79383C11.5164 5.44791 11.6656 5.11058 11.7821 4.787C12.2618 3.45422 12.1297 2.57508 11.7147 2.16004ZM4.91197 2.21766C3.57922 1.73794 2.70004 1.87001 2.28501 2.28504C1.87001 2.70009 1.73791 3.57926 2.21763 4.912C2.31709 5.18828 2.44112 5.47433 2.58677 5.76747C3.01931 5.18876 3.51474 4.61586 4.06529 4.06532C4.61584 3.51477 5.18872 3.01934 5.76743 2.5868C5.47431 2.44116 5.18824 2.31712 4.91197 2.21766Z"
                                    fill="currentColor"></path>
                            </svg>
                          <span class="text-[11px] lg:text-[12px]">  DeepThink </span>
                        </button>

                        <button
                            class="px-3 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded-full hover:bg-gray-100 hover:shadow-md font-medium transition-all duration-200 flex items-center gap-1.5">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M7.00003 0.150452C10.7832 0.150452 13.8496 3.21691 13.8496 7.00006C13.8496 10.7832 10.7832 13.8497 7.00003 13.8497C3.21688 13.8497 0.150421 10.7832 0.150421 7.00006C0.150421 3.21691 3.21688 0.150452 7.00003 0.150452ZM5.37796 7.59967C5.4267 9.0321 5.64754 10.2966 5.97366 11.2198C6.15996 11.7471 6.36946 12.1302 6.57327 12.3702C6.77751 12.6106 6.92343 12.6505 7.00003 12.6505C7.07663 12.6505 7.22255 12.6106 7.42679 12.3702C7.6306 12.1302 7.8401 11.7471 8.0264 11.2198C8.35252 10.2966 8.57336 9.0321 8.6221 7.59967H5.37796ZM1.38187 7.59967C1.61456 9.80498 3.11593 11.6305 5.14261 12.336C5.03268 12.1129 4.93227 11.8725 4.8428 11.6192C4.46342 10.5452 4.22775 9.13994 4.17874 7.59967H1.38187ZM9.82132 7.59967C9.77232 9.13994 9.53664 10.5452 9.15726 11.6192C9.06774 11.8726 8.96648 12.1127 8.85648 12.336C10.8836 11.6307 12.3855 9.8053 12.6182 7.59967H9.82132ZM7.00003 1.34967C6.92343 1.34967 6.77751 1.38955 6.57327 1.62994C6.36946 1.86994 6.15996 2.25297 5.97366 2.78033C5.64754 3.70357 5.4267 4.96802 5.37796 6.40045H8.6221C8.57336 4.96802 8.35252 3.70357 8.0264 2.78033C7.8401 2.25297 7.6306 1.86994 7.42679 1.62994C7.22255 1.38955 7.07663 1.34967 7.00003 1.34967ZM8.85648 1.66315C8.96663 1.88662 9.06763 2.12721 9.15726 2.38092C9.53664 3.45494 9.77232 4.86018 9.82132 6.40045H12.6182C12.3855 4.19471 10.8837 2.36834 8.85648 1.66315ZM5.14261 1.66315C3.11578 2.36856 1.61457 4.19503 1.38187 6.40045H4.17874C4.22775 4.86018 4.46342 3.45494 4.8428 2.38092C4.93237 2.12736 5.03253 1.88651 5.14261 1.66315Z"
                                    fill="currentColor"></path>
                            </svg>
                          <span class="text-[11px] lg:text-[12px]">  Search </span>
                        </button>
                    </div>

                    <!-- Right-side Icons -->
                    <div class="flex items-center gap-2 absolute right-3 bottom-3">
                        <!-- Mic icon -->
                        <button class="p-2 text-gray-500  rounded-full hover:bg-gray-100 transition-colors duration-150"
                            id="mic-btn">
                            <svg width="25" height="25" viewBox="0 0 20 20" fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg" class="icon">
                                <path
                                    d="M15.7806 10.1963C16.1326 10.3011 16.3336 10.6714 16.2288 11.0234L16.1487 11.2725C15.3429 13.6262 13.2236 15.3697 10.6644 15.6299L10.6653 16.835H12.0833L12.2171 16.8486C12.5202 16.9106 12.7484 17.1786 12.7484 17.5C12.7484 17.8214 12.5202 18.0894 12.2171 18.1514L12.0833 18.165H7.91632C7.5492 18.1649 7.25128 17.8672 7.25128 17.5C7.25128 17.1328 7.5492 16.8351 7.91632 16.835H9.33527L9.33429 15.6299C6.775 15.3697 4.6558 13.6262 3.84992 11.2725L3.76984 11.0234L3.74445 10.8906C3.71751 10.5825 3.91011 10.2879 4.21808 10.1963C4.52615 10.1047 4.84769 10.2466 4.99347 10.5195L5.04523 10.6436L5.10871 10.8418C5.8047 12.8745 7.73211 14.335 9.99933 14.335C12.3396 14.3349 14.3179 12.7789 14.9534 10.6436L15.0052 10.5195C15.151 10.2466 15.4725 10.1046 15.7806 10.1963ZM12.2513 5.41699C12.2513 4.17354 11.2437 3.16521 10.0003 3.16504C8.75675 3.16504 7.74835 4.17343 7.74835 5.41699V9.16699C7.74853 10.4104 8.75685 11.418 10.0003 11.418C11.2436 11.4178 12.2511 10.4103 12.2513 9.16699V5.41699ZM13.5814 9.16699C13.5812 11.1448 11.9781 12.7479 10.0003 12.748C8.02232 12.748 6.41845 11.1449 6.41828 9.16699V5.41699C6.41828 3.43889 8.02221 1.83496 10.0003 1.83496C11.9783 1.83514 13.5814 3.439 13.5814 5.41699V9.16699Z" />
                            </svg>
                        </button>



                        <!-- Send button -->
                        <button class="p-2 bg-blue-300 text-white rounded-full transition-colors duration-150 shadow-md"
                            id="send-btn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg" class="icon">
                                <path
                                    d="M8.99992 16V6.41407L5.70696 9.70704C5.31643 10.0976 4.68342 10.0976 4.29289 9.70704C3.90237 9.31652 3.90237 8.6835 4.29289 8.29298L9.29289 3.29298L9.36907 3.22462C9.76184 2.90427 10.3408 2.92686 10.707 3.29298L15.707 8.29298L15.7753 8.36915C16.0957 8.76192 16.0731 9.34092 15.707 9.70704C15.3408 10.0732 14.7618 10.0958 14.3691 9.7754L14.2929 9.70704L10.9999 6.41407V16C10.9999 16.5523 10.5522 17 9.99992 17C9.44764 17 8.99992 16.5523 8.99992 16Z">
                                </path>
                            </svg>
                        </button>




                    </div>
                </div>

                <!-- Footer note -->
                <p class="text-gray-500 text-center mt-2 text-[11px]" id="footer-note">
                    ChatGPT can make mistakes. Check important info.
                </p>
            </div>
        </div>
    </main>

    <!-- Popup Modal -->
    <div id="deleteModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-xl p-6 w-80 shadow-lg transform transition-transform duration-200 scale-95">
            <h2 class="text-xl font-semibold mb-2 text-gray-800">Delete Chat?</h2>
            <p class="text-gray-600 mb-6 text-sm">Are you sure you want to delete this chat?</p>
            <div class="flex justify-end space-x-3">
                <button id="cancelBtn"
                    class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition">
                    Cancel
                </button>
                <button id="confirmBtn" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition">
                    Delete
                </button>
            </div>
        </div>
    </div>

    <!-- Overlay for when input is centered -->
    <div class="overlay" id="overlay"></div>

    <!-- Scroll to bottom button -->
    <button id="scroll-to-bottom" aria-label="Scroll to bottom" title="Scroll to bottom">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 5v14" />
            <path d="M19 12l-7 7-7-7" />
        </svg>

    </button>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>